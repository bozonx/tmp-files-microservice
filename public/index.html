<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Temporary Files Upload</title>
  <meta name="description" content="Upload temporary files with configurable TTL">
  <link rel="stylesheet" href="public/styles.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>Temporary Files Upload</h1>
      <p>Upload files with automatic expiration</p>
    </header>

    <main>
      <form id="uploadForm">
        <div class="upload-area" id="uploadArea">
          <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
          </svg>
          <p class="upload-text">
            <span class="upload-text-main">Click to upload</span>
            <span class="upload-text-sub">or drag and drop</span>
          </p>
          <input type="file" id="fileInput" name="file">
          <p class="file-name" id="fileName"></p>
        </div>

        <div class="form-group">
          <label for="fileUrl">
            Or upload from URL
            <span class="label-hint">Optional</span>
          </label>
          <input type="url" id="fileUrl" name="fileUrl" placeholder="https://example.com/file.pdf">
          <p class="field-hint">If both file and URL are provided, the local file takes priority</p>
        </div>

        <div class="form-group">
          <label for="ttlMins">
            Time to Live (minutes)
            <span class="label-hint">Default: 1440 (1 day)</span>
          </label>
          <input type="number" id="ttlMins" name="ttlMins" min="1" placeholder="1440">
        </div>

        <div class="form-group">
          <label for="metadata">
            Metadata (JSON)
            <span class="label-hint">Optional</span>
          </label>
          <textarea id="metadata" name="metadata" rows="3" placeholder='{"key": "value"}'></textarea>
        </div>

        <button type="submit" id="submitBtn" class="btn-primary">
          <span id="btnText">Upload File</span>
          <span id="btnLoader" class="loader hidden"></span>
        </button>
      </form>

      <div id="result" class="result hidden"></div>

      <section class="files-section">
        <div class="section-header">
          <h2>Recent Files</h2>
          <button id="refreshBtn" class="btn-secondary">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            Refresh
          </button>
        </div>
        <div class="table-container">
          <table id="filesTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Size</th>
                <th>Expires</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="filesList">
              <!-- Files will be loaded here -->
            </tbody>
          </table>
          <div id="filesLoader" class="loader-container hidden">
            <span class="loader"></span>
          </div>
          <div id="noFiles" class="no-files hidden">
            No files found
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>Temporary Files Microservice</p>
    </footer>
  </div>

  <script src="public/app.js"></script>
</body>

</html>